task.spawn(function()
    
    while true do  
        local elapsed = tick() - getgenv().lastEventTime
        savePosition() 
       
        if elapsed > getgenv().idleTime and getgenv().toggleState.bool_autoFish and getgenv().toggleState.autoRespawn then
            respawnPlayer()
            getgenv().lastEventTime = tick() -- reset setelah respawn 
        end
       task.wait(1)
    end
end)
